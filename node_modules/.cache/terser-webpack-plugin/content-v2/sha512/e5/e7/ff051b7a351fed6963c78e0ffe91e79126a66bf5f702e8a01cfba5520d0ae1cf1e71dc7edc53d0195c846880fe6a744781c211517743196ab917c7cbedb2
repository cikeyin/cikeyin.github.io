{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{174:function(t,s,e){\"use strict\";e.r(s);var a=e(0),n=Object(a.a)({},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e(\"div\",{staticClass:\"content\"},[t._m(0),t._v(\" \"),t._m(1),t._v(\" \"),e(\"p\",[t._v(\"Promise是一种异步编程解决方案，比传统的异步解决方案【回调函数】和【事件】更合理、更强大。现已被 ES6 纳入进规范中。\")]),t._v(\" \"),t._m(2),t._v(\" \"),t._m(3),t._v(\" \"),t._m(4),t._v(\" \"),e(\"blockquote\",[e(\"p\",[t._v(\"参考： \"),e(\"a\",{attrs:{href:\"http://www.ruanyifeng.com/blog/2012/12/asynchronous%EF%BC%BFjavascript.html\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"四种异步编程方案\"),e(\"OutboundLink\")],1)])]),t._v(\" \"),t._m(5),t._v(\" \"),t._m(6),t._v(\" \"),t._m(7),t._v(\" \"),t._m(8),t._v(\" \"),t._m(9),t._v(\" \"),e(\"p\",[t._v(\"Promise 是一个构造函数，new Promise 返回一个 promise对象，接收一个excutor执行函数作为参数。\")]),t._v(\" \"),e(\"p\",[t._v(\"executor是带有 resolve 和 reject 两个参数的函数 。Promise构造函数执行时立即调用executor 函数， resolve 和 reject 两个函数作为参数传递给executor（executor 函数在Promise构造函数返回新建对象前被调用）。resolve 和 reject 函数被调用时，分别将promise的状态改为fulfilled（完成）或rejected（失败）。executor 内部通常会执行一些异步操作，一旦完成，可以调用resolve函数来将promise状态改成fulfilled，或者在发生错误时将它的状态改为rejected。\")]),t._v(\" \"),e(\"p\",[t._v(\"如果在executor函数中抛出一个错误，那么该promise 状态为rejected。executor函数的返回值被忽略。\")]),t._v(\" \"),t._m(10),t._m(11),t._v(\" \"),e(\"p\",[t._v(\"（1）then方法 当resolve或reject时的回调函数\")]),t._v(\" \"),t._m(12),t._m(13),t._v(\" \"),e(\"p\",[t._v(\"（2）resolve时onFulfilled被调用\")]),t._v(\" \"),t._m(14),e(\"p\",[t._v(\"（3）reject时onRejected被调用\")]),t._v(\" \"),t._m(15),e(\"p\",[t._v(\"(4) promise.catch\")]),t._v(\" \"),e(\"p\",[t._v(\"在链式写法中可以捕获前面then中发送的异常\")]),t._v(\" \"),t._m(16),t._m(17),t._v(\" \"),e(\"p\",[t._v(\"promise.then方法每次调用,都返回一个新的promise对象,所以可以链式写法\")]),t._v(\" \"),t._m(18),t._v(\" \"),e(\"p\",[t._v(\"（1） Promise.resolve 返回一个fulfilled状态的promise对象。\")]),t._v(\" \"),e(\"p\",[t._v(\"（2） Promise.reject 返回一个rejected状态的promise对象。\")]),t._v(\" \"),e(\"p\",[t._v(\"（3） Promise.all 接收一个promise对象数组为参数，只有全部为resolve才会调用，通常会用来处理多个并行异步操作。\")]),t._v(\" \"),e(\"p\",[t._v(\"（4） Promise.race 接收一个promise对象数组为参数，Promise.rac 只要有一个promise对象进入 FulFilled 或者 Rejected 状态的话，就会继续进行后面的处理。\")]),t._v(\" \"),t._m(19),t._v(\" \"),t._m(20),t._v(\" \"),e(\"blockquote\",[e(\"p\",[t._v(\"参考：\"),e(\"br\"),t._v(\" \"),e(\"a\",{attrs:{href:\"https://juejin.im/post/5aa7868b6fb9a028dd4de672#heading-4\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"面试精选之Promise\"),e(\"OutboundLink\")],1),e(\"br\"),t._v(\" \"),e(\"a\",{attrs:{href:\"https://juejin.im/post/5b31a4b7f265da595725f322#heading-6\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"Promise原理讲解 && 实现一个Promise对象 \"),e(\"OutboundLink\")],1),e(\"br\"),t._v(\" \"),e(\"a\",{attrs:{href:\"https://juejin.im/post/597724c26fb9a06bb75260e8\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"八段代码彻底掌握 Promise\"),e(\"OutboundLink\")],1),e(\"br\"),t._v(\" \"),e(\"a\",{attrs:{href:\"https://juejin.im/post/5afe6d3bf265da0b9e654c4b\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"史上最通俗易懂的Promise\"),e(\"OutboundLink\")],1)])])])},[function(){var t=this.$createElement,s=this._self._c||t;return s(\"h3\",{attrs:{id:\"promise原理与实现\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#promise原理与实现\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" Promise原理与实现\")])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"h4\",{attrs:{id:\"一、promise是什么？\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#一、promise是什么？\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" 一、Promise是什么？\")])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"ul\",[s(\"li\",[s(\"p\",[this._v(\"从语法上讲，promise是一个对象，从它可以获取异步操作的消息。\")])]),this._v(\" \"),s(\"li\",[s(\"p\",[this._v(\"promise有三种状态：pending、fulfiled、rejected，状态一旦改变，就不会再变。\")])]),this._v(\" \"),s(\"li\",[s(\"p\",[this._v(\"创造promise实例后，它会立即执行。\")])]),this._v(\" \"),s(\"li\",[s(\"p\",[this._v(\"Promise可以解决异步问题，但是不能说Promise是异步的。\")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"h4\",{attrs:{id:\"二、几种常见的异步解决方案\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#二、几种常见的异步解决方案\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" 二、几种常见的异步解决方案\")])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"ul\",[s(\"li\",[s(\"p\",[this._v(\"回调函数\")])]),this._v(\" \"),s(\"li\",[s(\"p\",[this._v(\"事件监听\")])]),this._v(\" \"),s(\"li\",[s(\"p\",[this._v(\"发布/订阅\")])]),this._v(\" \"),s(\"li\",[s(\"p\",[this._v(\"Promise对象\")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"h4\",{attrs:{id:\"三、promise解决的痛点\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#三、promise解决的痛点\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" 三、Promise解决的痛点\")])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"p\",[this._v(\"处理多个相互关联的异步请求，回调嵌套很多时，出现 \"),s(\"strong\",[this._v(\"毁掉地狱\")]),this._v(\" 的情况，这种编码模式有以下问题：\")])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"ul\",[s(\"li\",[s(\"p\",[this._v(\"多级嵌套导致代码繁杂，不利于阅读与维护\")])]),this._v(\" \"),s(\"li\",[s(\"p\",[this._v(\"异步操作顺序变更时，需要大规模的代码重构\")])]),this._v(\" \"),s(\"li\",[s(\"p\",[this._v(\"回调函数基本都是匿名函数，bug追踪困难\")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"h4\",{attrs:{id:\"四、promise使用\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#四、promise使用\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" 四、Promise使用\")])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"ol\",[s(\"li\",[this._v(\"Promise构造函数\")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e(\"div\",{staticClass:\"language-js extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[e(\"code\",[e(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"const\")]),t._v(\" promise \"),e(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Promise\")]),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"resolve\"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" reject\"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),e(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=>\")]),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),e(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"//异步处理  \")]),t._v(\"\\n    \"),e(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"//处理结束后，调用resolve或reject \")]),t._v(\"\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"ol\",{attrs:{start:\"2\"}},[s(\"li\",[this._v(\"promise对象方法\")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e(\"div\",{staticClass:\"language-js extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[e(\"code\",[t._v(\"promise\"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"then\")]),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"onFulfilled\"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"onRejected\"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"blockquote\",[s(\"p\",[this._v(\"注意：then方法是异步执行的\")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e(\"div\",{staticClass:\"language-js extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[e(\"code\",[e(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"const\")]),t._v(\" promise \"),e(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Promise\")]),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"resolve\"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" reject\"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=>\")]),t._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n   \"),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"resolve\")]),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),e(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'fulfilled'\")]),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 状态由 pending => fulfilled\")]),t._v(\"\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\npromise\"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"then\")]),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"result \"),e(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=>\")]),t._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// onFulfilled\")]),t._v(\"\\n    console\"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"log\")]),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"result\"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 'fulfilled' \")]),t._v(\"\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" reason \"),e(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=>\")]),t._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// onRejected 不会被调用\")]),t._v(\"\\n    \\n\"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e(\"div\",{staticClass:\"language-js extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[e(\"code\",[t._v(\"onst promise \"),e(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Promise\")]),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"resolve\"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" reject\"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=>\")]),t._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n   \"),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"reject\")]),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),e(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'rejected'\")]),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 状态由 pending => rejected\")]),t._v(\"\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\npromise\"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"then\")]),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"result \"),e(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=>\")]),t._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// onFulfilled 不会被调用\")]),t._v(\"\\n  \\n\"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" reason \"),e(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=>\")]),t._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// onRejected \")]),t._v(\"\\n    console\"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"log\")]),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"reason\"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 'rejected'\")]),t._v(\"\\n\"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e(\"div\",{staticClass:\"language-js extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[e(\"code\",[t._v(\"promise\"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),e(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"catch\")]),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"onRejected\"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n相当于\\npromise\"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"then\")]),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),e(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"null\")]),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" onRrejected\"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"ol\",{attrs:{start:\"2\"}},[s(\"li\",[this._v(\"promise chain\")])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"ol\",{attrs:{start:\"3\"}},[s(\"li\",[this._v(\"Promise的静态方法\")])])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"h4\",{attrs:{id:\"五、手写一个promise\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#五、手写一个promise\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" 五、手写一个Promise\")])},function(){var t=this.$createElement,s=this._self._c||t;return s(\"h4\",{attrs:{id:\"六、回调转换为promise\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#六、回调转换为promise\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" 六、回调转换为Promise\")])}],!1,null,null,null);s.default=n.exports}}]);","extractedComments":[]}